import j from"./DubdHSL_.js";import w from"./BwH_uc0i.js";import C from"./CdyoKS3T.js";import{d as y,u as S,D as k,P as f,s as b,E as N,G as B,H as l,I as d,J as E,a as O,K as H,L as T,M as m,N as A,O as D,S as U,Q as R,R as W,U as $,p as F,V as I,W as M,c as V,e as p,g,w as P,X as L}from"./DNqsfLMY.js";import"./C555SP4x.js";import"./76o_WpOd.js";const q=y({name:"LayoutLoader",inheritAttrs:!1,props:{name:String,layoutProps:Object},setup(o,a){return()=>m(d[o.name],o.layoutProps,a.slots)}}),G={name:{type:[String,Boolean,Object],default:null},fallback:{type:[String,Object],default:null}},J=y({name:"NuxtLayout",inheritAttrs:!1,props:G,setup(o,a){const e=S(),u=k(f),t=!u||u===b()?N():u,n=B(()=>{let s=l(o.name)??(t==null?void 0:t.meta.layout)??"default";return s&&!(s in d)&&o.fallback&&(s=l(o.fallback)),s}),i=E();a.expose({layoutRef:i});const r=e.deferHydration();if(e.isHydrating){const s=e.hooks.hookOnce("app:error",r);O().beforeEach(s)}let c;return()=>{const s=n.value&&n.value in d,v=(t==null?void 0:t.meta.layoutTransition)??H,x=c;return c=n.value,T(s&&v,{default:()=>m(U,{suspensible:!0,onResolve:()=>{D(r)}},{default:()=>m(K,{layoutProps:A(a.attrs,{ref:i}),key:n.value||void 0,name:n.value,shouldProvide:!o.name,isRenderingNewLayout:h=>h!==x&&h===n.value,hasTransition:!!v},a.slots)})}).default()}}}),K=y({name:"NuxtLayoutProvider",inheritAttrs:!1,props:{name:{type:[String,Boolean]},layoutProps:{type:Object},hasTransition:{type:Boolean},shouldProvide:{type:Boolean},isRenderingNewLayout:{type:Function,required:!0}},setup(o,a){const e=o.name;o.shouldProvide&&R($,{isCurrent:t=>e===(t.meta.layout??"default")});const u=k(f);if(u&&u===b()){const t=N(),n={};for(const i in t){const r=i;Object.defineProperty(n,r,{enumerable:!0,get:()=>o.isRenderingNewLayout(o.name)?t[r]:u[r]})}R(f,W(n))}return()=>{var t,n;return!e||typeof e=="string"&&!(e in d)?(n=(t=a.slots).default)==null?void 0:n.call(t):m(q,{key:e,layoutProps:o.layoutProps,name:e},a.slots)}}}),Q={class:"document-driven-page"},oe=y({__name:"document-driven",setup(o){const{contentHead:a}=F().public.content,{page:e,layout:u}=I();return e.value,a&&M(e),(_,t)=>{const n=j,i=w,r=C,c=J;return p(),V("div",Q,[g(c,{name:l(u)||"default"},{default:P(()=>[l(e)?(p(),L(i,{key:l(e)._id,value:l(e)},{empty:P(({value:s})=>[g(n,{value:s},null,8,["value"])]),_:1},8,["value"])):(p(),L(r,{key:1}))]),_:1},8,["name"])])}}});export{oe as default};
